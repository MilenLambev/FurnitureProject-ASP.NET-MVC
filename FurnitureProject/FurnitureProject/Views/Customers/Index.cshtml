@using FurnitureProject.Common

@model CustomerIndexVM

@{
    ViewBag.Title = "Customers list";
    int rowNumber = Model.PageNumber * Model.RowsPerPage;
    Customer customer = new Customer();
}

<h2>Index</h2>
<p>
    Items per page: @Html.ActionLink("25", "Index", new { RowsPerPage = 25, PageNumber = 0  }) |
                    @Html.ActionLink("50", "Index", new { RowsPerPage = 50, PageNumber = 0  }) |
                    @Html.ActionLink("100", "Index", new { RowsPerPage = 100, PageNumber = 0 }) |
</p>
<p>
    Page:
    @for (int i = 0; i <= Model.NumberOfPages; i++ )
    {
        @Html.ActionLink((i + 1).ToString(), "Index", new { RowsPerPage = Model.RowsPerPage, PageNumber = i }) @: |
    }
</p>
<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <td>
            <b>Row Number</b>
        </td>
        <th>
            @Html.DisplayNameFor(model => customer.Bulstat)
        </th>
        <th>
            @Html.DisplayNameFor(model => customer.MOL)
        </th>
        <th>
            @Html.DisplayNameFor(model => customer.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => customer.Address)
        </th>
        <th>
            Orders
        </th>
        <th></th>
    </tr>

@foreach (var item in Model.Customers) {
    rowNumber++;
    <tr>
        <td>
            @(rowNumber)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Bulstat)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.MOL)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Address)
        </td>
        <td>
            @Html.ActionLink("Orders", "Orders", new { id = item.ID })
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.ID }) |
            @Html.ActionLink("Details", "Details", new { id=item.ID }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.ID })
        </td>
    </tr>
}

</table>
